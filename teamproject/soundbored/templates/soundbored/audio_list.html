{% extends "soundbored/base_template.html" %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Home</title>
</head>

{% block content %}
<body>
<div class="flex-container p-3" style="width: 100vw; background-color: #ddddc6; color: #1d1e2c;">
  <div class="text-center" style="display: flex; align-items: center;">
    <img src="{% static 'src/icons/sound_wave.svg' %}" class="title-icon">
    <h1 class="text-center font-title title">Explore Our Sound Library</h1>
  </div>
  <div class="row">
    {% for audio in audios %}
    <div class="col-lg-2 col-md-3 col-sm-4 col-6 text-center">
      <div class="d-button-container" style="background-image: url('{% static 'src/floppy.png' %}');" onclick="togglePlay('audio{{ audio.pk }}')">
        <img src="{{ audio.image.url }}" alt="{{ audio.title }}" class="audio-image">
      </div>
      <audio id="audio{{ audio.pk }}" src="{{ audio.audio_file.url }}" preload="none"></audio>
      <div class="font-sound-title">{{ audio.title }}</div>
      {% if user.is_authenticated %}
        <a href="{% url 'toggle_favorite' audio.id %}" class="favorite-button">
          {% if request.user in audio.favorites.all %}
            ❤ Unfavorite
          {% else %}
            ♡ Favorite
          {% endif %}
          </a>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</div>
</body>
{% endblock content %}
</html>
