{% extends "soundbored/base_template.html" %}
{% load static %}

<!DOCTYPE html>

<head>
    <title>My Favorites</title>
</head>

{% block content %}
    <!-- Main content -->
    <div class="flex-container m-3" style="width: 80vw;">
    <h1>My Favorites</h1>
        <div class ="row">
        {% for audio in favorites %}
            <div class="col-3 text-center">
            <h2>{{ audio.title }}</h2>
            <img src="{{ audio.image.url }}" alt="{{ audio.title }}" class="audio-image" onclick="togglePlay('audio{{ audio.pk }}')">
            <audio id="audio{{ audio.pk }}" src="{{ audio.audio_file.url }}" preload="none"></audio>
            </div>
        {% endfor %}
        </div>
    </div>
        <script>
            // Function to toggle play/pause
            function togglePlay(audioId) {
                var audio = document.getElementById(audioId);
                if (audio) {
                    if (audio.paused) {
                        audio.play();
                    } else {
                        audio.pause();
                        audio.currentTime = 0;
                    }
                }
            }
        </script>
{% endblock content %}
